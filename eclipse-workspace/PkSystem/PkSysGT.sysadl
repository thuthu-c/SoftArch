Model SysADLModel ; package SysADL.types { value type Int { } value type Boolean { } value type String { } value type Void { } value type Real { } dimension Tempo dimension Dinheiro unit Horas { dimension = Tempo } unit Minutos { dimension = Tempo } unit Reais { dimension = Dinheiro } unit Centavos { dimension = Dinheiro } value type Tempo { dimension = Tempo } value type HorasTempo extends Tempo { unit = Horas dimension = Tempo } value type MinutosTempo extends Tempo { unit = Minutos dimension = Tempo } value type Dinheiro { dimension = Dinheiro } value type ReaisDinheiro extends Dinheiro { unit = Reais dimension = Dinheiro } value type CentavosDinheiro extends Dinheiro { unit = Centavos dimension = Dinheiro } enum Estado { Up , Down } enum Comando { On , Off } enum Detectado { In , Out } datatype Estados { attributes : Cancela : Estado ; } datatype Comandos { attributes : Cameras : Comando ; } datatype Detectados { attributes : SensorDeAndar : Detectado ; } } Requirement ControleDeEntradaESaidaDeVeiculosFR ( 2 ) { text = "Implementar cancelas automáticas para controle de entrada e saída.\nPermitir o acionamento das cancelas por:\nTicket impresso;\nCartão RFID;\nReconhecimento Automático de Placas (ANPR).\nQR Code\nPermitir que uma pessoa autorizada controle as cancelas manualmente em situações de emergência.\n" derive Funcionamento24hNFR ; } Requirement IdentificacaoEAutorizacaoDeVeiculosFR ( 3 ) { text = "Associar o veículo ao ticket, RFID ou placa no momento da entrada.\nGarantir que o condutor que entrou com o veículo ou uma pessoa autorizada possa retirá-lo.\nHabilitar autorização de terceiros para retirada do veículo, com verificação da autorização.\n" derive ControleDeEntradaESaidaDeVeiculosFR ; } Requirement GerenciamentoDeEmergenciasFR ( 23 ) { text = "Prover mecanismos para que uma pessoa autorizada possa abrir manualmente as cancelas em casos de emergência.\nAssegurar rápida liberação das saídas em situações de emergência para evacuação segura.\n" derive ControleDeEntradaESaidaDeVeiculosFR ; } Requirement IntegracaoComGatewaysDePagamentoFR ( 11 ) { text = "Integrar o sistema com gateways de pagamento para suporte a transações via cartões, PIX e apps móveis." derive Funcionamento24hNFR.ParkSystem.GestaoDeFormasDePagamentoFR ; } Requirement SistemaDeReservasAntecipadasFR ( 12 ) { text = "Permitir que usuários reservem vagas com antecedência, especialmente útil para eventos ou horários de pico.\nIntegrar a reserva com o sistema de entrada, para que a vaga seja garantida até o horário estipulado pelo usuário.\n" derive Funcionamento24hNFR ; } Requirement MonitoramentoDeOcorrenciasESuporteFR ( 13 ) { text = "Incluir um canal de comunicação direta com o suporte ou segurança, acessível nas máquinas de pagamento e no aplicativo.\nRegistrar ocorrências como tentativas de acesso não autorizadas, alarmes de emergência e falhas de equipamento.\n" derive Funcionamento24hNFR.ParkSystem.GestaoDeFormasDePagamentoFR ; } Requirement AssistenciaDeLocalizacaoDeVeiculoFR ( 14 ) { text = "Disponibilizar um sistema de localização do veículo dentro do estacionamento, utilizando tecnologia RFID, Bluetooth, ou código do ticket.\nPermitir que o usuário, pelo aplicativo, insira dados do veículo (ex.: placa ou ticket) para receber orientações até o local onde estacionou.\n" derive Funcionamento24hNFR ; } Requirement ValidacaoQRCodeFR ( 15 ) { text = "Adicionar a opção de validação de entrada/saída por QR Code no ticket ou aplicativo mobile, oferecendo uma alternativa prática ao usuário.\n" derive IdentificacaoEAutorizacaoDeVeiculosFR ; } Requirement MonitoramentoDeSegurancaECamerasDeVigilanciaFR ( 16 ) { text = "Integrar o sistema com câmeras de segurança para registrar entrada e saída de veículos, além de monitorar áreas sensíveis do estacionamento.\nPermitir acesso às gravações em caso de necessidade de auditoria ou investigação.\n" derive Funcionamento24hNFR ; } Requirement OpcoesDeDescontoEPromocoesFR ( 17 ) { text = "Permitir que o administrador configure descontos para determinados períodos (ex.: período noturno) ou perfis de usuário (ex.: mensalistas ou clientes de lojas específicas).\nAplicar descontos automaticamente de acordo com as condições configuradas e informá-los na tela de pagamento.\n" derive Funcionamento24hNFR.ParkSystem.GestaoDeFormasDePagamentoFR ; } Requirement GestaoDeMensalidadesEPlanosDeAssinaturaFR ( 18 ) { text = "Incluir uma funcionalidade para gestão de mensalistas, com opções de pagamento recorrente e controle de assinaturas.\nAssociar veículos e usuários cadastrados a planos de acesso com preços e horários específicos, como planos semanais, mensais ou de múltiplas entradas.\n" derive Funcionamento24hNFR.ParkSystem.GestaoDeFormasDePagamentoFR ; }  Requirement IntegracaoComServicosExternosDeMobilidadeFR ( 21 ) { text = "Permitir integração com serviços de mobilidade urbana e apps de localização (como Google Maps e Waze) para exibir disponibilidade de vagas e facilitar a navegação até o estacionamento.\n" derive Funcionamento24hNFR ; } Requirement AcessoCoringaParaOsFuncionariosFR ( 22 ) { text = "Acesso via Cartão, QR Code para funcionários\nNão precisa validar ticket com o tempo e valor\n" derive ControleDeEntradaESaidaDeVeiculosFR ; }  Requirement TempoDeRespostaNFR ( 30 ) { text = "As operações de autenticação e autorização para entrada e saída devem ser concluídas em no máximo 3 segundos.\nO sistema de pagamento deve processar as transações em até 5 segundos para minimizar filas.\n" derive ModuloDePrevisaoDeDemandaNFR ; }  Requirement UsabilidadeEAcessibilidadeNFR ( 10 ) { text = "A interface dos terminais e aplicativos deve ser intuitiva e acessível, com suporte para múltiplos idiomas e opções de acessibilidade para pessoas com deficiência.\nO sistema deve oferecer um modo de alto contraste, suporte a comandos de voz e integração com dispositivos de leitura de tela.\n" derive Funcionamento24hNFR ; } Requirement DesempenhoEEscalabilidadeDeRedeNFR ( 29 ) { text = "O sistema deve suportar picos de acesso simultâneo em grandes eventos, escalando para acomodar a demanda sem perda de desempenho.\nDeve ser projetado para suportar centenas ou milhares de usuários simultâneos em grandes estacionamentos.\n" derive ModuloDePrevisaoDeDemandaNFR ; }  Requirement ConfiguracaoDeDiferentesCapacidadesNFR ( 8 ) { text = "O sistema deve ser configurável para operar em estacionamentos de diferentes tamanhos, desde pequenos prédios até grandes arenas esportivas.\nA arquitetura deve permitir adição ou remoção de sensores, câmeras e cancelas, sem impacto significativo na operação.\n" derive Funcionamento24hNFR ; }  Requirement MinimizacaoDeFilasNFR ( 7 ) { text = "O sistema deve ser otimizado para garantir que o tempo de espera na entrada e saída de veículos não ultrapasse 10 segundos por veículo, especialmente em períodos de alta demanda" derive Funcionamento24hNFR ; }   Requirement AtualizacaoDeHardESoftNFR ( 27 ) { text = "Permitir substituição de hardware e atualização de software sem interrupção das operações do estacionamento.\nRealizar atualizações de forma transparente para o usuário, com mínima interferência na operação normal.\n" derive Funcionamento24hNFR ; } Requirement ToleranciaAFalhasNFR ( 31 ) { text = "O sistema deve continuar operando em caso de falhas parciais de componentes (ex.: cancelas ou sensores).\nIncluir redundância em componentes principais, como servidores e banco de dados, para assegurar a operação contínua.\nImplementar um backup de energia (ex.: no-break) para manter o sistema operacional durante quedas de energia.\n" derive ModuloDePrevisaoDeDemandaNFR ; } Requirement Funcionamento24hNFR ( 1 ) { text = "O sistema deve operar continuamente, sem interrupção, 24 horas por dia, 7 dias por semana, garantindo disponibilidade ininterrupta." Requirement ParkSystem ( 0 ) { text = "Sistema responsavel pelo controle de estacionamento de um local."  Requirement GestaoDeVagasFR ( 1 ) { text = "O sistema deve monitorar e exibir, em tempo real, a quantidade de vagas disponíveis, incluindo a localização exata de cada vaga.\nIdentificar o tipo de vaga (coberta, descoberta, acessível) e exibir essa informação.\nExibir em painéis ou visores localizados em pontos estratégicos o número e localização das vagas disponíveis.\n" } Requirement AutonomiaOperacionalEmCasoDeFalhasNFR ( 13 ) { text = "Equipamentos críticos (cancelas, leitores de placas, terminais de pagamento) devem ser capazes de operar por um período mínimo de 24 horas sem conectividade total, utilizando backup de dados e bateria auxiliar.\n" }  Requirement SegurancaDeDadosNFR ( 26 ) { text = "Os dados de entrada e saída de veículos e informações de pagamento devem ser protegidos por criptografia.\nAssegurar que todos os dados sensíveis estejam em conformidade com regulamentações de privacidade, como a LGPD.\n" } Requirement SIstemaDeAnaliseDeRelatorioFR ( 20 ) { text = "Gerar relatórios detalhados sobre taxas de ocupação, fluxo de entrada e saída, receita gerada e outros dados operacionais.\nPermitir exportação de dados em formatos padrão (ex.: CSV, PDF) para análise administrativa.\n" } Requirement GestaoDeFormasDePagamentoFR ( 5 ) { text = "Oferecer pagamento em:\nMáquinas automáticas;\nAplicativo mobile;\nDireto na cancela de saída.\nSuportar múltiplos métodos de pagamento: dinheiro, cartões de débito e crédito, PIX e pagamentos via app.\nConfiguração das formas de pagamento disponíveis pelo administrador.\n" }  Requirement ControledeAcessoAoSistemaFR ( 24 ) { text = "Garantir que apenas pessoal autorizado tenha acesso aos controles manuais e dados administrativos do sistema.\n" } } } Requirement ModuloDePrevisaoDeDemandaNFR ( 28 ) { text = "Utilizar análise de dados e machine learning para prever horários de alta demanda com base em histórico e tendências, sugerindo ajustes operacionais (ex.: reserva de vagas ou abertura de cancelas adicionais)." derive Funcionamento24hNFR ; } Requirement CalculoETarifacaoDoTempoDeEstacionamentoFR ( 4 ) { text = "Calcular automaticamente o valor a ser pago com base no tempo de permanência do veículo. Permitir configuração de tarifas variáveis conforme tipo de vaga ou horários específicos (ex.: horários de pico). Pagamento do Ticket só vale até 15 mins, depois disso o valor é reajustado" derive Funcionamento24hNFR.ParkSystem.GestaoDeFormasDePagamentoFR ; } Requirement NotificacoesEAlertasFR ( 32 ) { text = "Enviar notificações aos usuários (via app ou SMS) quando o tempo de estacionamento estiver próximo de expirar, caso o sistema seja tarifado por horas. Enviar alertas automáticos ao administrador ou equipe de segurança em caso de falhas no sistema, tentativas de acesso não autorizadas ou emergencias." derive Funcionamento24hNFR.ParkSystem.GestaoDeFormasDePagamentoFR ; }    package PkSystemConnectors { import PkSystemPorts ; connector def TempoToDinheiroCN { participants : ~ source : HTempoOPT ; ~ destination : RDinheiroIPT ; ~ source : MTempoOPT ; ~ destination : CDinheiroIPT ; flows : HorasTempo from source to destination MinutosTempo from source to destination } connector def DetectarPresecaCN { participants : ~ source : DetectadoOPT ; ~ destination : DetectadoIPT ; flows : Detectado from source to destination } connector def EnviarComandoCN { participants : ~ source : ComandoOPT ; ~ destination : ComandoIPT ; flows : Comando from source to destination } connector def MudarEstadoCN { participants : ~ source : EstadoOPT ; ~ destination : EstadoIPT ; flows : Estado from source to destination } } package PkSystemPorts { import SysADL.types ; port def CDinheiroOPT { flow out CentavosDinheiro } port def CDinheiroIPT { flow in CentavosDinheiro } port def MTempoIPT { flow in MinutosTempo } port def MTempoOPT { flow out MinutosTempo } port def HTempoIPT { flow in HorasTempo } port def HTempoOPT { flow out HorasTempo } port def RDinheiroIPT { flow in ReaisDinheiro } port def RDinheiroOPT { flow out ReaisDinheiro } port def ComandoOPT { flow out Comando } port def ComandoIPT { flow in Comando } port def DetectadoIPT { flow in Detectado } port def DetectadoOPT { flow out Detectado } port def EstadoIPT { flow in Estado } port def EstadoOPT { flow out Estado } } package PkSystemComponents { import PkSystemPorts ; import PkSystemConnectors ; import SysADL.types ;
	component def PkSystem {  configuration { components : CameraCP : CameraCP { using ports : controlador : ComandoIPT ; } RastreadorCP : RastreadorCP { using ports : ocupado : DetectadoOPT ; } CancelaCP : CancelaCP { using ports : valido : EstadoOPT ; } LeitorDeTicketCP : LeitorDeTicketCP { using ports : lido : EstadoIPT ; } MaquinaDePagamentoCP : MaquinaDePagamentoCP { using ports : calculado : RDinheiroOPT ; } SensorDeVagaCP : SensorDeVagaCP { using ports : detectado : DetectadoOPT ; } connectors : c1 : DetectarPresecaCN bindings controlador = ocupado ; c2 : MudarEstadoCN bindings lido = valido ; c3 : TempoToDinheiroCN bindings detectado = calculado ; c4 : EnviarComandoCN bindings calculado = lido ; c5 : EnviarComandoCN bindings ocupado = detectado ; } }
	component def CancelaCP { ports : valido : EstadoOPT ; }
	component def CameraCP { ports : controlador : ComandoIPT ; }
	component def LeitorDeTicketCP { ports : lido : EstadoIPT ; }
	component def MaquinaDePagamentoCP { ports : calculado : RDinheiroOPT ; }
	component def SensorDeVagaCP { ports : detectado : DetectadoOPT ; }
	component def RastreadorCP { ports : ocupado : DetectadoOPT ; } }